<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Raw System Credential Store Access from R • oskeyring</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet">
<link href="deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Raw System Credential Store Access from R">
<meta name="description" content="Aims to support all features of the system credential store, including non-portable ones. Supports Keychain on macOS, and Credential Manager on Windows. See the keyring package if you need a portable API.">
<meta property="og:description" content="Aims to support all features of the system credential store, including non-portable ones. Supports Keychain on macOS, and Credential Manager on Windows. See the keyring package if you need a portable API.">
<meta name="robots" content="noindex">
<script src="https://cdn.jsdelivr.net/gh/posit-dev/supported-by-posit/js/badge.min.js" data-max-height="43" data-light-bg="#666f76" data-light-fg="#f9f9f9"></script><script defer data-domain="r-lib.github.io/oskeyring,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script>
</head>
<body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">oskeyring</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.1.6.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/r-lib/oskeyring/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="oskeyring">oskeyring<a class="anchor" aria-label="anchor" href="#oskeyring"></a>
</h1></div>
<blockquote>
<p>Raw System Credential Store Access from R</p>
</blockquote>
<!-- badges: start -->

<div class="section level2">
<h2 id="features">Features<a class="anchor" aria-label="anchor" href="#features"></a>
</h2>
<ul>
<li>Windows and macOS support. Read, write, list and search the system credential store.</li>
<li>Generic credentials, domain passwords, domain certificates on Windows.</li>
<li>Generic passwords and internet passwords on macOS.</li>
<li>Multiple keychains on macOS.</li>
</ul>
</div>
<div class="section level2">
<h2 id="related">Related<a class="anchor" aria-label="anchor" href="#related"></a>
</h2>
<ul>
<li>The keyring R package provides a portable system keyring API for all platforms, and also supports multiple backends: <a href="https://github.com/r-lib/keyring" class="external-link uri">https://github.com/r-lib/keyring</a>
</li>
</ul>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Install the package from CRAN:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"oskeyring"</span><span class="op">)</span></span></code></pre></div>
<p>To install the development version from GitHub run:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pak.html" class="external-link">pak</a></span><span class="op">(</span><span class="st">"r-lib/oskeyring"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/r-lib/oskeyring#readme" class="external-link">oskeyring</a></span><span class="op">)</span></span></code></pre></div>
<p>Most oskeyring functions are not portable, and only work on one operating system (OS). The functions that do not use the system credential store can be used on all OSes. E.g. <code><a href="reference/macos_keychain.html">macos_item()</a></code> and <code><a href="reference/windows_credentials.html">windows_item()</a></code> are portable. Calling a function on the wrong OS will throw an <code>oskeyring_bad_os_error</code> error.</p>
<p>oskeyring follows the API of the OS closely, and it has a different set of functions on Windows and macOS. E.g. the macOS API can search for keychain items based on item attributes, but there is no similar API on Windows, so oskeyring does not have a <code>windows_item_search()</code> function.</p>
<div class="section level3">
<h3 id="windows-credential-store">Windows Credential Store<a class="anchor" aria-label="anchor" href="#windows-credential-store"></a>
</h3>
<p>oskeyring uses the API defined in <a href="https://learn.microsoft.com/en-us/windows/win32/api/wincred/" class="external-link"><code>wincred.h</code></a> on Windows. The Windows credential store contains various credential types. The ones supported by oskeyring are:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/windows_credentials.html">windows_item_types</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="co">#&gt; [1] "generic"                 "domain_password"        </span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="co">#&gt; [3] "domain_certificate"      "domain_visible_password"</span></span></code></pre></div>
<p><code><a href="reference/windows_credentials.html">windows_item_write()</a></code> adds or updates a credential in the credential store. It takes objects created with <code><a href="reference/windows_credentials.html">windows_item()</a></code> :</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">it</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/windows_credentials.html">windows_item</a></span><span class="op">(</span><span class="st">"secret"</span>, <span class="st">"my-host-password"</span><span class="op">)</span></span>
<span><span class="va">it</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="co">#&gt; &lt;oskeyring_windows_item: generic&gt;</span></span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="co">#&gt;  target_name: my-host-password</span></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a><span class="co">#&gt;  persist: local_machine</span></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a><span class="co">#&gt;  credential_blob: &lt;-- hidden --&gt;</span></span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/windows_credentials.html">windows_item_write</a></span><span class="op">(</span><span class="va">it</span><span class="op">)</span></span></code></pre></div>
<p><code><a href="reference/windows_credentials.html">windows_item_read()</a></code> reads a credential from the credential store, the return value includes the secret as well:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/windows_credentials.html">windows_item_read</a></span><span class="op">(</span><span class="st">"my-host-password"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#&gt; &lt;oskeyring_windows_item: generic&gt;</span></span>
<span><span class="co">#&gt;  target_name: my-host-password</span></span>
<span><span class="co">#&gt;  persist: local_machine</span></span>
<span><span class="co">#&gt;  credential_blob: &lt;-- hidden --&gt;</span></span></code></pre></div>
<p><code><a href="reference/windows_credentials.html">windows_item_enumerate()</a></code> lists all credentials that match a prefix.</p>
<p><code><a href="reference/windows_credentials.html">windows_item_delete()</a></code> deletes a credential.</p>
<p>See more in the manual: <code><a href="reference/windows_credentials.html">?windows_credentials</a></code>.</p>
</div>
<div class="section level3">
<h3 id="macos-keychain-services">macOS Keychain Services<a class="anchor" aria-label="anchor" href="#macos-keychain-services"></a>
</h3>
<div class="section level4">
<h4 id="keychain-items">Keychain items<a class="anchor" aria-label="anchor" href="#keychain-items"></a>
</h4>
<p>oskeyring uses the <a href="https://developer.apple.com/documentation/security/keychain_services" class="external-link">Keychain API</a> on macOS. macOS keychains can store various classes of items. The item classes supported by oskeyring are:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/macos_keychain.html">macos_item_classes</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="co">#&gt; [1] "generic_password"  "internet_password"</span></span></code></pre></div>
<p><code><a href="reference/macos_keychain.html">macos_item_add()</a></code> adds a new item to a keychain. It takes objects created with <code><a href="reference/macos_keychain.html">macos_item()</a></code>:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">it</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/macos_keychain.html">macos_item</a></span><span class="op">(</span></span>
<span>  <span class="st">"secret"</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>service <span class="op">=</span> <span class="st">"My service"</span>, account <span class="op">=</span> <span class="st">"Gabor"</span><span class="op">)</span>,</span>
<span>  class <span class="op">=</span> <span class="st">"generic_password"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">it</span></span></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="co">#&gt; &lt;oskeyring_macos_item: generic_password&gt;</span></span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a><span class="co">#&gt;  account: Gabor</span></span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a><span class="co">#&gt;  service: My service</span></span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a><span class="co">#&gt;  value: &lt;-- hidden --&gt;</span></span></code></pre></div>
<p>Items contain the secret itself, and a set of attributes, that depends on the item class. See <code><a href="reference/macos_keychain.html">?macos_keychain</a></code> for the list of attributes for each class.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/macos_keychain.html">macos_item_add</a></span><span class="op">(</span><span class="va">it</span><span class="op">)</span></span></code></pre></div>
<p><code><a href="reference/macos_keychain.html">macos_item_search()</a></code> searches for a keychain item:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/macos_keychain.html">macos_item_search</a></span><span class="op">(</span>attributes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>service <span class="op">=</span> <span class="st">"My service"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; &lt;oskeyring_macos_item: generic_password&gt;</span></span>
<span><span class="co">#&gt;  account: Gabor</span></span>
<span><span class="co">#&gt;  creation_date: 2020-10-21 10:01:44</span></span>
<span><span class="co">#&gt;  label: My service</span></span>
<span><span class="co">#&gt;  modification_date: 2020-10-21 10:01:44</span></span>
<span><span class="co">#&gt;  service: My service</span></span></code></pre></div>
<p>It does not return the secret itself, unless it is called with <code>return_data = TRUE</code>. This possibly prompts the user for a password.</p>
<p><code><a href="reference/macos_keychain.html">macos_item_update()</a></code> updates the attributes of existing Keychain items.</p>
<p><code><a href="reference/macos_keychain.html">macos_item_delete()</a></code> deletes one or more Keychain items.</p>
</div>
<div class="section level4">
<h4 id="keychains">Keychains<a class="anchor" aria-label="anchor" href="#keychains"></a>
</h4>
<p>macOS supports multiple keychains. There is always a default keychain, and this is what oskeyring uses by default as well. There is also a keychain search list, where secrets are looked up by default, and this can contain multiple keychains.</p>
<p><code>macos_item_*()</code> functions have a <code>keychain</code> argument to direct or restrict the operation to a specific keychain.</p>
<p><code><a href="reference/macos_keychain.html">macos_keychain_create()</a></code> creates a new keychain.</p>
<p><code><a href="reference/macos_keychain.html">macos_keychain_list()</a></code> lists all keychains on the search list.</p>
<p>See more about macOS keychains in the manual: <code><a href="reference/macos_keychain.html">?macos_keychain</a></code>.</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="code-of-conduct">Code of Conduct<a class="anchor" aria-label="anchor" href="#code-of-conduct"></a>
</h2>
<p>Please note that the oskeyring project is released with a <a href="https://r-lib.github.io/oskeyring/CODE_OF_CONDUCT.html">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
<div class="section level2">
<h2 id="license">License<a class="anchor" aria-label="anchor" href="#license"></a>
</h2>
<p>MIT © <a href="https://github.com/rstudio" class="external-link">RStudio</a></p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=oskeyring" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/r-lib/oskeyring/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/r-lib/oskeyring/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing oskeyring</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://github.com/gaborcsardi" class="external-link">Gábor Csárdi</a> <br><small class="roles"> Author, maintainer </small>   </li>
<li>
<a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a> <br><small class="roles"> Copyright holder, funder </small>  <a href="https://ror.org/03wc8by49" class="external-link"><img src="https://raw.githubusercontent.com/ror-community/ror-logos/main/ror-icon-rgb.svg" class="ror" alt="ROR"></a> </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/r-lib/oskeyring/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/r-lib/oskeyring/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/r-lib/oskeyring" class="external-link"><img src="https://codecov.io/gh/r-lib/oskeyring/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>

  </aside>
</div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/gaborcsardi" class="external-link">Gábor Csárdi</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

  </div></footer>
</body>
</html>
